<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ‡ãƒ¼ã‚¿ç§»è¡Œ</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
            overflow: hidden; /* ç”»åƒãŒã¯ã¿å‡ºã•ãªã„ã‚ˆã†ã«ã™ã‚‹ */
            background-color: #f0f0f0;
        }

        /* ã‚³ãƒ³ãƒ†ãƒŠã§2ã¤ã®å››è§’å½¢ã‚’æ¨ªã«ä¸¦ã¹ã‚‹ */
        .container {
            display: flex;
            justify-content: space-around;
            align-items: center;
            width: 100%;
        }

        /* å„å››è§’å½¢ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .frame-rect {
            width: 400px;
            height: 600px;
            border: 2px solid #ccc; /* ç™½ã„è¼ªéƒ­ç·š */
            background-color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center; /* å·¦å¯„ã›ã«å¤‰æ›´ */
            position: relative;
            padding: 20px;
            box-sizing: border-box;
        }

        .progress-container {
            width: 100%;
            background-color: #ddd;
            border-radius: 5px;
            overflow: hidden;
            margin-top: 10px; /* ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã®ä¸Šéƒ¨ãƒãƒ¼ã‚¸ãƒ³ */
        }

        .progress-bar {
            height: 30px;
            width: 0%;
            background-color: #4CAF50;
            text-align: center;
            color: white;
            line-height: 30px; /* ãƒ†ã‚­ã‚¹ãƒˆã‚’ä¸­å¤®ã«è¡¨ç¤º */
        }

        /* ç§»è¡Œé–‹å§‹ãƒœã‚¿ãƒ³ã‚’ä¸­å¤®ä¸‹ã«é…ç½® */
        .start-button-container {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
        }

        button {
            padding: 10px 20px;
            font-size: 18px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        button:disabled {
            background-color: grey;
        }

        .status {
            margin: 20px 0;
            font-size: 18px;
            color: #333;
        }

        /* æ–°æ—§ã‚µãƒ¼ãƒãƒ¼ãƒ©ãƒ™ãƒ«ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .server-label {
            font-size: 18px;
            background-color: #ddd;
            border: none;
            border-radius: 5px;
            padding: 10px;
            margin-bottom: 20px;
        }


        /*### ä»¥é™ç”»åƒã«ã¤ã„ã¦ã®å‡¦ç† ###*/  
        /* æŒ¿å…¥ç”»åƒã®åˆæœŸçŠ¶æ…‹ */
        /*  startManyCardboardBoxesImg...manybox.png
            carImg ...car.png
            fewCardboardBoxImg...box.png
            completedManyCardboardBoxesImg...manybox.png
        */      

         .start-few-cardboardBoxes-image, 
         .car-image, 
         .start-many-cardboardBoxes-image, 
         .completed-many-cardboardBoxes-image {
            width: 115px;
            display: none;
            position: absolute;
        }

        /* å¤§ãã„æ®µãƒœãƒ¼ãƒ«ç”»åƒã‚’å·¦ã«é…ç½® */
        .start-few-cardboardBoxes-image {
            top: 60%;
            right: calc(25% - 100px);
        }

        /* è»Šç”»åƒã‚’å‹•ã‹ã™ä½ç½®ï¼ˆåˆæœŸã¯å·¦ã«é…ç½®ï¼‰ */
        .car-image {
            top: 65%;
            left: calc(25%); /* åˆæœŸä½ç½®ã¯è»Šã¨åŒã˜ */
        }

        /* å°ã•ã„æ®µãƒœãƒ¼ãƒ«ç”»åƒã‚’å³ã«é…ç½® */
        .start-many-cardboardBoxes-image {
            top: 60%;
            left: calc(25% - 100px);
        }

        /* ç§»è¡Œçµ‚äº†æ™‚è¡¨ç¤ºç”¨, å¤§ãã„æ®µãƒœãƒ¼ãƒ«ç”»åƒã‚’å³ã«é…ç½® */
        .completed-many-cardboardBoxes-image {
            top: 60%;
            right: calc(25% - 100px);
        }

        /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        @keyframes moveCar {
            0% {
                left: 25%; /* è»Šã®åˆæœŸä½ç½® */
            }
            100% {
                left: calc(60%); /* è»Šã®ä½ç½® */
            }
        }

        /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é©ç”¨ */
        .move {
            animation: moveCar 3s linear infinite; /* 3ç§’ã§å·¦ã‹ã‚‰å³ã«ç§»å‹•ã—ç¶šã‘ã‚‹ */
        }        

    </style>
</head>
<body>
    <!-- 2ã¤ã®æ–°æ—§ã‚’éš”ã¦ã‚‹å››è§’å½¢ã‚’æ¨ªä¸¦ã³ã«æç”» -->
    <div class="container">
        <!-- å·¦ã®æ—§ã‚µãƒ¼ãƒã‚’è¡¨ã™å››è§’å½¢å†…ã®æç”»å‡¦ç† -->
        <div class="frame-rect">
            <!-- æ—§ã‚µãƒ¼ãƒã®ãƒ©ãƒ™ãƒ« -->
            <div class="server-label">å¾“æ¥ã®æ–¹æ³•</div>
            <!-- æ®µãƒœãƒ¼ãƒ«ãƒ»è»Šã®ç”»åƒæç”» -->
            <img class="start-few-cardboardBoxes-image" id="few-boxes-left" src="images/box.png" alt="1ã¤æ®µãƒœãƒ¼ãƒ«å·¦">
            <img class="start-many-cardboardBoxes-image" id="many-boxes-left" src="images/manybox.png" alt="å¤šæ®µãƒœãƒ¼ãƒ«å·¦">
            <img class="car-image" id="car-left" src="images/car.png" alt="è»Šå·¦">
            <img class="completed-many-cardboardBoxes-image" id="completed-many-boxes-left" src="images/manybox.png" alt="å¤šæ®µãƒœãƒ¼ãƒ«å·¦ã®å³">
            <!-- ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã®æç”» -->
            <div class="progress-container">
                <div class="progress-bar" id="progressBar-left">0.0%</div>
            </div>
            <div class="status" id="status-left">Let's startğŸ‘ŠğŸ¥ğŸ¤œ</div>
        </div>


        <!-- å³ã®æ–°ã‚µãƒ¼ãƒã‚’è¡¨ã™å››è§’å½¢å†…ã®æç”»å‡¦ç† -->
        <div class="frame-rect">
            <!-- æ–°ã‚µãƒ¼ãƒã®ãƒ©ãƒ™ãƒ« -->
            <div class="server-label">æ–°ææ¡ˆã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ </div>
            <!-- æ®µãƒœãƒ¼ãƒ«ãƒ»è»Šã®ç”»åƒæç”» -->
            <img class="start-few-cardboardBoxes-image" id="few-boxes-right" src="images/box.png" alt="1ã¤æ®µãƒœãƒ¼ãƒ«å³">
            <img class="start-many-cardboardBoxes-image" id="many-boxes-right" src="images/manybox.png" alt="å¤šæ®µãƒœãƒ¼ãƒ«å³">
            <img class="car-image" id="car-right" src="images/car.png" alt="è»Šå³">
            <img class="completed-many-cardboardBoxes-image" id="completed-many-boxes-right" src="images/manybox.png" alt="å¤šæ®µãƒœãƒ¼ãƒ«å³ã®å³">
            <!-- ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã®æç”» -->
            <div class="progress-container">
                <div class="progress-bar" id="progressBar-right">0.0%</div>
            </div>
            <div class="status" id="status-right">Let's startğŸ‘ŠğŸ˜¼ğŸ¤œ</div>
        </div>
    </div>

    <!-- ç§»è¡Œé–‹å§‹ãƒœã‚¿ãƒ³ã‚’å››è§’å½¢ã®ä¸‹ä¸­å¤®ã«é…ç½® -->
    <div class="start-button-container">
        <button onclick="startMigration()">ãƒ‡ãƒ¼ã‚¿ç§»è¡Œé–‹å§‹</button>
    </div>

    <script>
        /* ãƒ‡ãƒ¼ã‚¿ç§»è¡Œå‡¦ç†ã‚’é–‹å§‹ */
        // â†‘ã®divã‚¿ã‚°ã«ãŠã„ã¦,ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯æ™‚ã«startMigration()ã‚’å®Ÿè¡Œ, idã¯javascriptsã‹ã‚‰ã“ã®ãƒœã‚¿ãƒ³ã‚’ç‰¹å®šã™ã‚‹ãŸã‚ã®æ¼”ç®—å­
        function startMigration() {
            const sides = ['left', 'right']; // å·¦ã¨å³ã®ä¸¡æ–¹ã§å‡¦ç†ã‚’è¡Œã†
            // pyã§ã„ã† for elm in list: ã¿ãŸã„ãªæ§‹æ–‡ã®ã‚„ã¤ 
            sides.forEach(side => {
                const progressBar = document.getElementById(`progressBar-${side}`); // sideã«å·¦å³ãŒå…¥ã‚‹ã“ã¨ã§ã€ä¸Šè¨˜ã®å·¦å³å››è§’å½¢å†…ã®æç”»ã‚’åŒæ™‚ã«è¡Œã†
                const migratingPercent = document.getElementById(`status-${side}`);
                const car = document.getElementById(`car-${side}`);
                const button = document.querySelector('button'); // querySelectorã¯htmlã‹ã‚‰ä»»æ„ã®htmlè¦ç´ ã‚’å–å¾—ï¼ˆãƒœã‚¿ãƒ³ã‚¿ã‚°å‘¼ã³å‡ºã—ã£ã¦ã“ã¨ï¼Ÿï¼‰
                const fewBoxes = document.getElementById(`few-boxes-${side}`); // å°æ•°æ®µãƒœãƒ¼ãƒ«
                const manyBoxes = document.getElementById(`many-boxes-${side}`); // å¤šæ•°æ®µãƒœãƒ¼ãƒ«
                const completedBoxes = document.getElementById(`completed-many-boxes-${side}`) // çµ‚äº†æ™‚ã€å„ãƒ–ãƒ­ãƒƒã‚¯å³ç”¨ã®å¤šæ•°æ®µãƒœãƒ¼ãƒ«ã®ç”¨æ„

                //// ã‚¯ãƒªãƒƒã‚¯ç›´å¾Œã®å‡¦ç† ////
                // è»Šã‚’è¡¨ç¤ºã—ã¦ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹
                manyBoxes.style.display = 'block';
                fewBoxes.style.display = 'block';
                car.style.display = 'block';
                car.classList.add('move');
                button.textContent = 'ãƒ‡ãƒ¼ã‚¿ç§»è¡Œä¸­';
                button.disabled = true;

                //// é€²æ—çŠ¶æ³ã‚’æ›´æ–°ã™ã‚‹å‡¦ç† ////
                // å¤‰æ•°ã®åˆæœŸåŒ–
                let currentNum = 0; // ç¾åœ¨ã®å‡¦ç†å›æ•°ã‚’è¡¨ã™ã€‚ãã®ãŸã‚ã€å¾Œã®é–¢æ•°å†…ã§ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã•ã‚Œã‚‹
                let wholePercentNum; // ã“ã®å›æ•°ã ã‘updateProgree()ã‚’å®Ÿè¡Œã€‚ã¤ã¾ã‚Šã€è¨ˆç®—ç”¨ã®å¯¾è±¡ã¨ãªã‚‹ãƒ‡ãƒ¼ã‚¿å…¨ä½“ã‹ã‚‰ç®—å‡ºã—ãŸå…¨ä½“å€¤ã®å¤‰æ•°
                if (side == "left") {
                    wholePercentNum = 100; // å·¦ã®å¾“æ¥ãƒ–ãƒ­ãƒƒã‚¯ã§ã¯ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã®å¢—åŠ ã‚’é…ãã™ã‚‹
                } else {
                    wholePercentNum = 50 // å³ã®æ–°ææ¡ˆãƒ–ãƒ­ãƒƒã‚¯ã§ã¯ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã®å¢—åŠ ã‚’æ—©ãã™ã‚‹
                }
                const updateInterval = 50; // 0.05secã”ã¨ã«æ›´æ–°

                // ãƒ‡ãƒ¼ã‚¿ç§»è¡Œã®å‰²åˆã‚’è¨ˆç®—ã—ã¦è¡¨ç¤ºã•ã›ã‚‹é–¢æ•°ï¼ˆãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã®æ›´æ–°å‡¦ç†ï¼‰
                function updateProgress() {
                    if (currentNum < wholePercentNum) {
                        currentNum++;
                        let currentPercent = (currentNum / wholePercentNum) * 100; // ç¾åœ¨ã®é€²æ—çŠ¶æ³ã‚’ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆã§è¡¨ã™ãŸã‚ã®å¤‰æ•°å®šç¾©
                        migratingPercent.textContent = `ç§»è¡Œä¸­...${currentPercent.toFixed(1)}%`; // ãƒ‘ãƒ¼ã‚»ãƒ³ãƒ†ãƒ¼ã‚¸ã‚’å°æ•°ç‚¹ç¬¬ä¸€ä½ã¾ã§è¡¨ç¤ºã•ã›ã‚‹
                        progressBar.style.width = `${currentPercent}%`; // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã®å¹…ã‚’æ›´æ–°
                        progressBar.textContent = `${currentPercent.toFixed(1)}%`; // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’æ›´æ–°ï¼ˆå°æ•°ç‚¹ç¬¬ä¸€ä½ã¾ã§è¡¨ç¤ºï¼‰
                        setTimeout(updateProgress, updateInterval); // å†å¸°å‘¼ã³å‡ºã—, 0.05secå¾Œã«å†åº¦å®Ÿè¡Œ
                    } else {
                        migratingPercent.textContent = "ç§»è¡Œå®Œäº†...100.0%"; // 100%ã«è¨­å®š
                        progressBar.style.width = '100%'; // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã‚’100%ã«ã™ã‚‹
                        progressBar.textContent = "100.0%";
                        button.textContent = "ãƒ‡ãƒ¼ã‚¿ç§»è¡Œå®Œäº†"; // ç§»è¡Œå®Œäº†ãƒ†ã‚­ã‚¹ãƒˆã‚’æç”»
                        
                        // ç§»è¡Œå®Œäº†å¾Œã®å‡¦ç†
                        car.style.display = 'none'; // è»Šæ¶ˆã™
                        fewBoxes.style.display = 'none'; // å„ãƒ–ãƒ­ãƒƒã‚¯å·¦ã®å°æ•°æ®µãƒœãƒ¼ãƒ«å‰Šé™¤
                        manyBoxes.style.display = 'none'; // å„ãƒ–ãƒ­ãƒƒã‚¯å³ã®å¤šæ•°æ®µãƒœãƒ¼ãƒ«å‰Šé™¤
                        completedBoxes.style.display = 'block'; // ç§»è¡Œå®Œäº†ã‚’ç¤ºã™å³å¤šæ®µãƒœãƒ¼ãƒ«ç”»åƒè¡¨ç¤º
                    }
                }

                updateProgress(); // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã®æ›´æ–°ã‚’é–‹å§‹ï¼ˆæœ€åˆã®å®Ÿè¡Œï¼‰
            });
        }
    </script>
</body>
</html>