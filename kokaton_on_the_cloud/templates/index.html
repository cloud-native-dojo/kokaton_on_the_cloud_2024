<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ‡ãƒ¼ã‚¿ç§»è¡Œ</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
            overflow: hidden; /* ç”»åƒãŒã¯ã¿å‡ºã•ãªã„ã‚ˆã†ã«ã™ã‚‹ */
        }
        button {
            padding: 10px 20px;
            font-size: 18px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:disabled {
            background-color: grey;
        }
        #status {
            margin: 20px 0;
            font-size: 18px;
            color: #333;
        }
        .progress-container {
            width: 100%;
            background-color: #ddd;
            border-radius: 5px;
            overflow: hidden;
        }
        .progress-bar {
            height: 30px;
            width: 0%;
            background-color: #4CAF50;
            text-align: center;
            color: white;
            line-height: 30px; /* ãƒ†ã‚­ã‚¹ãƒˆã‚’ä¸­å¤®ã«è¡¨ç¤º */
        }

        /* ã€Œæ—§ã‚µãƒ¼ãƒãƒ¼ã€*/
        #oldServerLabel {
            position: absolute;
            font-size: 18px;
            background-color: #ddd;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            top: 50%;
            left: calc(25% - 50px);
            transform: translateY(-150%);
        }

        /* ã€Œæ–°ã‚µãƒ¼ãƒãƒ¼ã€*/
        #newServerLabel {
            position: absolute;
            font-size: 18px;
            background-color: #ddd;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            top: 50%;
            right: calc(25% - 50px);
            transform: translateY(-150%);
        }

        /* æŒ¿å…¥ç”»åƒã®åˆæœŸçŠ¶æ…‹ */
        /* image1...manybox.png
           image2...car.png
           image3...box.png
           image4...manybox.png
         */
        #image1, #image2, #image3, #image4 {
            width: 200px;
            display: none;
            position: absolute;
        }

        /* å¤§ãã„æ®µãƒœãƒ¼ãƒ«ç”»åƒã‚’å·¦ã«é…ç½® */
        #image1 {
            top: 60%;
            left: calc(25% - 100px);
        }

        /* è»Šç”»åƒã‚’å‹•ã‹ã™ä½ç½®ï¼ˆåˆæœŸã¯å·¦ã«é…ç½®ï¼‰ */
        #image2 {
            top: 65%;
            left: calc(25% - 100px); /* åˆæœŸä½ç½®ã¯image1ã¨åŒã˜ */
        }

        /* å°ã•ã„æ®µãƒœãƒ¼ãƒ«ç”»åƒã‚’å³ã«é…ç½® */
        #image3 {
            top: 60%;
            right: calc(25% - 100px);
        }

        /* å¤§ãã„æ®µãƒœãƒ¼ãƒ«ç”»åƒã‚’å³ã«é…ç½® */
        #image4 {
            top: 60%;
            right: calc(25% - 100px);
        }

        /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        @keyframes moveCar {
            0% {
                left: 25%; /* image1ã®ä½ç½® */
            }
            100% {
                left: calc(75% - 200px); /* image3ã®ä½ç½® */
            }
        }

        /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é©ç”¨ */
        .move {
            animation: moveCar 3s linear infinite; /* 3ç§’ã§å·¦ã‹ã‚‰å³ã«ç§»å‹•ã—ç¶šã‘ã‚‹ */
        }
    </style>
</head>
<body>
    <!-- æ—§ã‚µãƒ¼ãƒãƒ¼ã®ãƒ©ãƒ™ãƒ« -->
    <div id="oldServerLabel" class="server-label">æ—§ã‚µãƒ¼ãƒãƒ¼</div>
    <!-- æ–°ã‚µãƒ¼ãƒãƒ¼ã®ãƒ©ãƒ™ãƒ« -->
    <div id="newServerLabel" class="server-label">æ–°ã‚µãƒ¼ãƒãƒ¼</div>

    <!-- å·¦ã®æ®µãƒœãƒ¼ãƒ«ç”»åƒï¼šãƒœã‚¿ãƒ³ã‚’æŠ¼ã™å‰ã‹ã‚‰è¡¨ç¤º -->
    <img id="image1" src="images/manybox.png" alt="Image 1">

    <div>
        <button onclick="startMigration()" id="migrationButton">ãƒ‡ãƒ¼ã‚¿ç§»è¡Œé–‹å§‹</button> 
        <div style="text-align:center" id="status">Let's startğŸ‘ŠğŸ˜¼ğŸ¤œ</div>
        <div class="progress-container">
            <div class="progress-bar" id="progressBar">0.0%</div>
        </div>
    </div>

    <!-- è»Šç”»åƒï¼šãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸå¾Œã€ç§»è¡Œä¸­ã«è¡¨ç¤º -->
    <img id="image2" src="images/car.png" alt="Image 2">
    
    <!-- å³ã®æ®µãƒœãƒ¼ãƒ«ç”»åƒ(å°â†’å¤§)ï¼šãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸå¾Œã‹ã‚‰ãšã£ã¨è¡¨ç¤º -->
    <img id="image3" src="images/box.png" alt="Image 3">
    <img id="image4" src="images/manybox.png" alt="Image 4">


    <script>
        // ãƒšãƒ¼ã‚¸ãŒèª­ã¿è¾¼ã¾ã‚ŒãŸã¨ãã«å·¦æ®µãƒœãƒ¼ãƒ«ç”»åƒã‚’è¡¨ç¤º
        window.onload = function() {
            document.getElementById('image1').style.display = 'block';
        };

        // â†‘ã®divã‚¿ã‚°ã«ãŠã„ã¦,ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯æ™‚ã«startMigration()ã‚’å®Ÿè¡Œ, idã¯javascriptsã‹ã‚‰ã“ã®ãƒœã‚¿ãƒ³ã‚’ç‰¹å®šã™ã‚‹ãŸã‚ã®æ¼”ç®—å­
        function startMigration() {
            // ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€statusã¨migrationButtonã®è¦ç´ ã‚’å–å¾—ã™ã‚‹
            const button = document.getElementById('migrationButton'); // ãƒœã‚¿ãƒ³ã‚’å–å¾—divã‚’æ¢ç´¢ (æŒ‡å®šã—ãŸIDã«ãƒãƒƒãƒã™ã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè¦ç´ ã‚’å–å¾—)
            const migratingPercent = document.getElementById('status'); // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤ºç”¨ã®è¦ç´ ã‚’å–å¾—
            const progressBar = document.getElementById('progressBar'); // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã®è¦ç´ ã‚’å–å¾—
            const image1 = document.getElementById('image1');
            const image2 = document.getElementById('image2');
            const image3 = document.getElementById('image3');
            const image4 = document.getElementById('image4');

            // ã‚¯ãƒªãƒƒã‚¯ç›´å¾Œã®å‡¦ç†
            image2.style.display = 'block'; // è»Šç”»åƒè¡¨ç¤º
            image3.style.display = 'block'; // å³å°æ®µãƒœãƒ¼ãƒ«è¡¨ç¤º
            image2.classList.add('move'); // è»Šã®ç”»åƒã‚’å‹•ã‹ã™
            button.textContent = 'ãƒ‡ãƒ¼ã‚¿ç§»è¡Œä¸­';
            button.disabled = true;

            //// é€²æ—çŠ¶æ³ã‚’æ›´æ–°ã™ã‚‹å‡¦ç† ////
            // å¤‰æ•°ã®åˆæœŸåŒ–
            const wholePercentNum = 600; // 600å›ã®æ›´æ–°ã§100%ã«ãªã‚‹. è¨ˆç®—ç”¨ã®å¯¾è±¡ã¨ãªã‚‹ãƒ‡ãƒ¼ã‚¿å…¨ä½“ã‹ã‚‰ç®—å‡ºã—ãŸå…¨ä½“å€¤ã®å¤‰æ•°
            const updateInterval = 50; // 0.05ç§’ã”ã¨ã«æ›´æ–°
            let currentNum = 0; // ç¾åœ¨ã®å‡¦ç†å›æ•°ã‚’è¡¨ã™ã€‚ãã®ãŸã‚ã€å¾Œã®é–¢æ•°å†…ã§ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã•ã‚Œã‚‹

            // ãƒ‡ãƒ¼ã‚¿ç§»è¡Œã®å‰²åˆã‚’è¨ˆç®—ã—ã¦è¡¨ç¤ºã•ã›ã‚‹é–¢æ•°
            function updateProgress() {
                if (currentNum < wholePercentNum) {
                    currentNum++;
                    let currentPercent = (currentNum / wholePercentNum) * 100; // ç¾åœ¨ã®å‡¦ç†çŠ¶æ³ã‚’ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆã§è¡¨ã™ãŸã‚ã®å¤‰æ•°
                    migratingPercent.textContent = `${currentPercent.toFixed(1)}%`; // å°æ•°ç‚¹1ä½ã¾ã§è¡¨ç¤º
                    progressBar.style.width = `${currentPercent}%`; // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã®å¹…ã‚’æ›´æ–°
                    progressBar.textContent = `${currentPercent.toFixed(1)}%`; // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’æ›´æ–°(å°æ•°ç‚¹ç¬¬ä¸€ä½ã¾ã§è¡¨ç¤º
                    setTimeout(updateProgress, updateInterval);  // å†å¸°å‘¼ã³å‡ºã—, 0.05ç§’å¾Œã«å†åº¦å®Ÿè¡Œ
                } else {
                    migratingPercent.textContent = "100.0%";  // 100%ã«è¨­å®š
                    progressBar.style.width = '100%'; // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã‚’100%ã«ã™ã‚‹
                    progressBar.textContent = "100.0%"; // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’100.0%ã«ï¼ˆç„¡ãã¦ã‚‚è‰¯ã„ã‹ã‚‚ï¼Ÿï¼‰
                    button.textContent = "ãƒ‡ãƒ¼ã‚¿ç§»è¡Œå®Œäº†"; // å®Œäº†ãƒ†ã‚­ã‚¹ãƒˆã‚’ç”»é¢ã«æç”»
                    button.disabled = false; // ãƒœã‚¿ãƒ³ã‚’å†åº¦æœ‰åŠ¹åŒ–

                    // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³çµ‚äº†æ™‚ã®å‡¦ç†
                    image1.style.display = 'none'; // å·¦æ®µãƒœãƒ¼ãƒ«ç”»åƒå‰Šé™¤
                    image2.style.display = 'none'; // è»Šç”»åƒå‰Šé™¤
                    image3.style.display = 'none';// å³å°æ®µãƒœãƒ¼ãƒ«ç”»åƒå‰Šé™¤
                    image4.style.display = 'block'; // å³å¤§æ®µãƒœãƒ¼ãƒ«ç”»åƒè¡¨ç¤º
                }
            }

            updateProgress(); // æœ€åˆã®å®Ÿè¡Œ
        }
    </script>

</body>
</html>
